<?xml version="1.0" encoding="UTF-8"?>
<!-- Copyright (c) 1998-2008 by xTuple. All rights reserved. -->
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
"http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<section id="ediProfile" role="standard">
  <title><indexterm significance="normal">
      <primary>electronic data interchange</primary>
      <secondary>creating new profile</secondary>
    </indexterm> <indexterm significance="normal">
      <primary>profiles</primary>
      <secondary>creating new</secondary>
    </indexterm> <indexterm significance="normal">
      <primary>email</primary>
      <secondary>using for edi</secondary>
    </indexterm>EDI Profile</title>
  <para>To create a new EDI Profile, select the NEW button. For this example,
  we have chosen the Email delivery method, as shown in the following
  screenshot:</para>
  <para><screenshot>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/ediProfile.png" />
        </imageobject>
        <caption><para>Create New EDI Profile for Email
        Delivery</para></caption>
      </mediaobject>
    </screenshot></para>
  <note>
    <para>The screen options will vary depending on which EDI delivery method
    you select&mdash;Email or FTP.</para>
  </note>
  <para>When creating an EDI Profile using the Email delivery type, you are
  presented with the following options:</para>
  <variablelist>
    <varlistentry>
      <term>Name</term>
      <listitem>
        <para>Enter a brief name to identify the EDI Profile. This is the name
        which will appear when the Profile is cross-referenced throughout the
        application&mdash;in the Customer master, for example.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>EDI Type</term>
      <listitem>
        <para>For this example, we have selected the "Email" delivery method.
        Selecting the "Email" option indicates that recipients will receive
        EDI documents via electronic mail. Most documents will be attached to
        the email after the Message Body.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>From</term>
      <listitem>
        <para>This is the email address of the person sending the email. It
        can be set to a particular person's email address or to a generic
        address (e.g. "sales@xtuple.com"). If it is left blank on this screen,
        the Batch Manager will fill in the email address of the user running
        the application when an EDI message gets prepared.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Reply To</term>
      <listitem>
        <para>This is the reply-to address that will be set on the outgoing
        email message. This controls the email address used when someone
        replies to an email sent by xTuple ERP. If the "From" address is left
        blank or is set to the application user's email address, it's a good
        idea to set the "Reply To" address to a generic address. This is
        especially useful if there is an email address shared by an entire
        department. If this is left blank, replies will normally be sent to
        the "From" address.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>To</term>
      <listitem>
        <para>Enter the email address to be used as the default recipient
        address whenever documents are emailed using this Profile.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <tip>
    <para>Send documents to multiple recipients by separating email addresses
    with a comma. Be sure to omit any spaces between addresses when using
    commas to send copies to multiple recipients.</para>
  </tip>
  <variablelist>
    <varlistentry>
      <term>Cc</term>
      <listitem>
        <para>Enter the email address to be used as the default carbon copy
        address whenever documents are emailed using this Profile.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Bcc</term>
      <listitem>
        <para>Enter the email address to which copies of the email will be
        sent using this Profile. Bcc differs from Cc in that none of the
        recipients will see the bcc addresses. It is a good idea to set this
        to an address that will have its Inbox archived or to an email address
        shared by a department. This way there is a history of the
        transmission or the entire department knows what has happened.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Subject</term>
      <listitem>
        <para>Enter a default email subject line to be used whenever documents
        are emailed using this Profile.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Message Body</term>
      <listitem>
        <para>Use this text field to enter the default message that will
        accompany any documents emailed using this Profile.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Send Email as HTML</term>
      <listitem>
        <para>Select if you want the body of the Email to be sent as HTML. If
        not selected, the Email will be sent as plain text.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Forms</term>
      <listitem>
        <para>Displays the EDI Form(s) associated with the Profile. Forms
        control which types of document can be sent using this EDI
        Profile&mdash;if the EDI Profile does not have a form for a document
        type, that document type cannot be sent using this EDI Profile. Forms
        also control the names and values of replacement tokens (see <xref
        linkend="ediForm" />).</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Notes</term>
      <listitem>
        <para>This is a scrolling text field with word-wrapping for entering
        Notes related to the Profile.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <para>To the far right of the screen, the following buttons are
  available:</para>
  <variablelist>
    <varlistentry>
      <term>CANCEL</term>
      <listitem>
        <para>Closes the screen without adding a new Profile to the master
        list of EDI Profiles.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>OK</term>
      <listitem>
        <para>Creates the EDI Profile and adds it to the master list of EDI
        Profiles.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>NEW</term>
      <listitem>
        <para>Opens screen for creating a new EDI Form definition.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>EDIT</term>
      <listitem>
        <para>Enables you to edit highlighted EDI Form definitions. The edit
        screen is the same as that for creating a new EDI Form
        definition&mdash;except that when editing, the fields will contain EDI
        Form information. Double-clicking on an EDI Form definition will also
        bring you to the editing screen.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>DELETE</term>
      <listitem>
        <para>Highlight an EDI Form definition and then select this button to
        remove the EDI Form from the list.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <para><indexterm>
      <primary>electronic data interchange</primary>
      <secondary>tokens</secondary>
    </indexterm><indexterm>
      <primary>tokens</primary>
      <secondary>electronic data interchange</secondary>
    </indexterm>Certain special character sequences exist that you can use to
  build your EDI Profile. You can enter these EDI tokens in any of the text
  input fields on the EDI Profile window (except the Name, of course). You can
  also define your own tokens by writing database queries (see <xref
  linkend="ediForm" />). The system defines the following tokens:</para>
  <variablelist>
    <varlistentry>
      <term>&lt;/docid&gt;</term>
      <listitem>
        <para>This is the internal document ID of the document being
        sent.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>&lt;/docnumber&gt;</term>
      <listitem>
        <para>This is the document number of the document being sent.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>&lt;/doctype&gt;</term>
      <listitem>
        <para>This is the internal version of the type of document being
        sent.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>&lt;/doctypefull&gt;</term>
      <listitem>
        <para>This is a human readable version of the &lt;/doctype&gt;.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>a document-type-specific token</term>
      <listitem>
        <para>The primary key id for the document, named for the primary key
        field of that document (e.g., &lt;/invchead_id&gt;).</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <table>
    <title>Values of EDI replacement tokens for different document
    types</title>
    <tgroup cols="3">
      <thead>
        <row>
          <entry align="center">&lt;/doctype&gt;</entry>
          <entry align="center">&lt;/doctypefull&gt;</entry>
          <entry align="center">document-type-specific token</entry>
        </row>
      </thead>
      <tbody>
        <row>
          <entry>AR</entry>
          <entry>A/R Statement</entry>
          <entry>cust_id</entry>
        </row>
        <row>
          <entry>CM</entry>
          <entry>Credit Memo</entry>
          <entry>cmhead_id or aropen_id, depending on context</entry>
        </row>
        <row>
          <entry>IC</entry>
          <entry>Incident</entry>
          <entry>incdt_id</entry>
        </row>
        <row>
          <entry>IN</entry>
          <entry>Invoice</entry>
          <entry>invchead_id</entry>
        </row>
        <row>
          <entry>PO</entry>
          <entry>Purchase Order</entry>
          <entry>pohead_id</entry>
        </row>
        <row>
          <entry>QT</entry>
          <entry>Quote</entry>
          <entry>quhead_id</entry>
        </row>
        <row>
          <entry>SO</entry>
          <entry>Sales Order</entry>
          <entry>cohead_id and sohead_id</entry>
        </row>
      </tbody>
    </tgroup>
  </table>
  <para><indexterm significance="normal">
      <primary>electronic data interchange</primary>
      <secondary>creating new profile</secondary>
    </indexterm> <indexterm significance="normal">
      <primary>profiles</primary>
      <secondary>creating new</secondary>
    </indexterm> <indexterm significance="normal">
      <primary>file transfer protocol</primary>
      <secondary>using for edi</secondary>
    </indexterm>To create a new EDI Profile using the <indexterm
      significance="normal">
      <primary>FTP</primary>
      <see>file transfer protocol</see>
    </indexterm>FTP delivery method, select the NEW button from the EDI
  Profiles master list. Once the new Profile screen opens, choose the "FTP"
  option. As the following screenshot shows, the screen options change when
  "FTP" is selected:</para>
  <para><screenshot>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/ediProfile_ftp.png" />
        </imageobject>
        <caption>Create New EDI Profile for FTP Delivery</caption>
      </mediaobject>
    </screenshot></para>
  <para>When creating a new EDI Profile using the FTP delivery method, you are
  presented with the following options:</para>
  <variablelist>
    <varlistentry>
      <term>Name</term>
      <listitem>
        <para>Enter a brief name to identify the EDI Profile. This is the name
        which will appear when the Profile is cross-referenced throughout the
        application&mdash;in the Customer master, for example.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Type</term>
      <listitem>
        <para>For this example, we have selected the "FTP" delivery method.
        Selecting the "FTP" option indicates that recipients will receive EDI
        documents as files transferred by FTP to the server address specified
        in the Profile.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term><indexterm significance="normal">
          <primary>servers</primary>
          <secondary>ftp for edi profile</secondary>
        </indexterm>Server</term>
      <listitem>
        <para>Enter the host name or IP Address of the FTP server where EDI
        documents should be transferred.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Login Name</term>
      <listitem>
        <para>Enter the login name required to access the specified
        server.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Password</term>
      <listitem>
        <para>Enter the password required to access the specified server (this
        value is <emphasis>not</emphasis> encrypted in the database).</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Directory</term>
      <listitem>
        <para>Specify the directory location (if any) where EDI documents
        transferred by FTP should be placed. By default, EDI documents will be
        placed in the top level directory.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Forms</term>
      <listitem>
        <para>Displays the EDI Form(s) associated with the Profile.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Notes</term>
      <listitem>
        <para>This is a scrolling text field with word-wrapping for entering
        Notes related to the Profile.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <para>To the far right of the screen, the following buttons are
  available:</para>
  <variablelist>
    <varlistentry>
      <term>CANCEL</term>
      <listitem>
        <para>Closes the screen without adding a new Profile to the master
        list of EDI Profiles.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>OK</term>
      <listitem>
        <para>Creates the EDI Profile and adds it to the master list of EDI
        Profiles.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>NEW</term>
      <listitem>
        <para>Opens screen for creating a new EDI Form definition.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>EDIT</term>
      <listitem>
        <para>Enables you to edit highlighted EDI Form definitions. The edit
        screen is the same as that for creating a new EDI Form
        definition&mdash;except that when editing, the fields will contain EDI
        Form information. Double-clicking on an EDI Form definition will also
        bring you to the editing screen.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>DELETE</term>
      <listitem>
        <para>Highlight an EDI Form definition and then select this button to
        remove the EDI Form from the list.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <xi:include href="ediForm.xml" xpointer="element(/1)"
              xmlns:xi="http://www.w3.org/2001/XInclude" />
</section>
