<?xml version="1.0" encoding="UTF-8"?>
<!-- Copyright (c) 1998-2013 by xTuple. All rights reserved. -->
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
"http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<section id="invoice">
  <title><indexterm significance="normal">
      <primary>invoices</primary>
      <secondary>creating new</secondary>
    </indexterm> <indexterm significance="normal">
      <primary>accounts receivable</primary>
      <secondary>creating invoices for</secondary>
    </indexterm>New Invoice</title>
  <para>When you post a sales order that has been selected for billing, an
  invoice is created for that order. This is the standard flow for creating
  invoices tied to sales orders. However, you also have the option of creating
  miscellaneous invoices—that is, invoices which are not tied to sales orders.
  For example, you might use a miscellaneous invoice to bill for non-inventory
  items you have sold. To create a miscellaneous invoice, select the
  <guimenuitem>Create Invoice</guimenuitem> option. The following screen will
  appear:</para>
  <para><screenshot>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/invoice.png"/>
        </imageobject>
        <caption>Create New Invoice</caption>
      </mediaobject>
    </screenshot></para>
  <para>When creating an invoice, you are presented with the following
  options:</para>
  <variablelist>
    <varlistentry>
      <term>Invoice #</term>
      <listitem>
        <para>Next available invoice number will automatically display, unless
        your system requires you to enter invoice numbers manually. Default
        values and input parameters for invoice numbers are configurable at
        the system level.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Order #</term>
      <listitem>
        <para>Will display the relevant sales order number for invoices
        generated from the select for billing process flow. If the invoice is
        miscellaneous and was not generated by the select for billing process,
        then use this field for informational or reference purposes. Possible
        references might include sales order number or customer purchase order
        number.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Invoice Date</term>
      <listitem>
        <para>By default, the current day's date will be entered.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Order Date</term>
      <listitem>
        <para>By default, the current day's date will be entered.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Ship Date</term>
      <listitem>
        <para>By default, the current day's date will be entered.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Customer #</term>
      <listitem>
        <para>Enter the customer number of the customer to be billed. The
        lookup feature located to the right of the field leads to a searchable
        customers list. You may also access this list using the keyboard
        shortcut <guibutton>CTRL + L</guibutton>. Once a customer number is
        entered, the customer name and billing address will display. Select
        the <guibutton>?</guibutton> or <guibutton>$</guibutton> symbol to view customer information for the specified
        customer. If a customer's credit is good, the button will feature a black question mark (<guibutton>?</guibutton>) icon. If the customer is on credit warning, the icon will turn into an orange dollar sign (<guibutton>$</guibutton>). A red dollar sign (<guibutton>$</guibutton>) indicates the customer is on credit hold.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <note>
    <para>A valid customer number must be entered in the <guilabel>Customer
    #</guilabel> field before line items can be added to an invoice. If no
    valid customer number is entered, you will not be able to add line items
    to the invoice.</para>
  </note>
  <variablelist>
    <varlistentry>
      <term><indexterm significance="normal">
          <primary>invoices</primary>
          <secondary>billing information for</secondary>
        </indexterm>Billing Address</term>
      <listitem>
        <para>Enter the customer address where bills should be sent. By
        default, the billing address defined on the customer master will be
        entered here.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Copy to Ship-to</term>
      <listitem>
        <para>Select to copy contents of billing address into the
        <guilabel>Ship-To</guilabel> address field. This option is enabled if
        the customer master for the specified customer indicates that
        free-form ship-tos are allowed.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term><indexterm significance="normal">
          <primary>sales representatives</primary>
          <secondary>commissions for</secondary>
        </indexterm><indexterm significance="normal">
          <primary>invoices</primary>
          <secondary>commissions on</secondary>
        </indexterm>Sales Rep.</term>
      <listitem>
        <para>Specify the sales representative for the invoice. By default,
        the customer's designated sales representative will appear in the
        field. This field will be hidden if the enhanced commissions package
        is in use.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Commission</term>
      <listitem>
        <para>By default, the commission percentage recorded on the customer
        master will be automatically entered in this field. If for some reason
        you select a non-default sales representative at order entry, the
        commission rate will not change. To adjust the commission rate, you
        must make the change manually. This field will be hidden if the
        enhanced commissions package is in use.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Tax Zone</term>
      <listitem>
        <para>Specify the tax zone for the invoice. By default, the main tax
        zone for the customer will appear in the field. The ship-to address
        tax zone will be shown if a ship-to address is being used.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term><indexterm significance="normal">
          <primary>invoices</primary>
          <secondary>setting terms for</secondary>
        </indexterm>Terms</term>
      <listitem>
        <para>Specify the billing terms for the invoice. By default, the
        customer's standard billing terms will appear in the field.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Ship-To #</term>
      <listitem>
        <para>Enter the number of the preferred ship-to address. Customers may
        maintain multiple ship-to addresses. If the customer master for the
        specified customer indicates that free-form ship-tos are allowed, then
        any address may be entered. If free-form ship-tos are not allowed,
        then the ship-to address must be entered using the browse button
        located to the right of the field. The lookup feature leads to a
        searchable ship-to addresses list.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Cust. PO #</term>
      <listitem>
        <para>Enter a customer purchase order number, as needed.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>F.O.B.</term>
      <listitem>
        <para>Enter free on board (FOB) terms for the invoice.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Ship Via</term>
      <listitem>
        <para>The preferred ship via method for the customer will appear in
        the field. You may change the ship via using the list.</para>
        <tip>
          <para>The <guilabel>Ship Via</guilabel> field supports free-form
          ship vias. If you want to enter a free-form ship via, simply type
          the name of the ship via into the field.</para>
        </tip>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term><indexterm significance="normal">
          <primary>invoices</primary>
          <secondary>shipping charges on</secondary>
        </indexterm><indexterm significance="normal">
          <primary>shipping</primary>
          <secondary>charges on invoices</secondary>
        </indexterm> Shipping Chgs.</term>
      <listitem>
        <para>Specify the shipping charges associated with the invoice. The
        preferred shipping charges type for the associated sales order will
        appear in the field.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Project #</term>
      <listitem>
        <para>If your system is configured to use projects, select a project
        number to associate with the invoice. If the invoice was created from
        a sales order—and the sales order had a project number associated with
        it—then the project number from the originating sales order will
        automatically be entered here.</para>
        <para role="xtprjaccnt">When you have the xTuple Project Accounting
        package installed—and you link a project to the invoice (or it was
        linked from the original sales order)—the project number will be added
        as the final segment of affected G/L account numbers when the invoice
        is posted.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Post on Save</term>
      <listitem>
        <para>Select if you want to post the invoice automatically as soon as
        you hit the <guibutton>SAVE</guibutton> button. If not selected, the
        invoice will need to be posted in another step. This option is
        "sticky," meaning the screen will remember your choice the next time
        you create an invoice.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <para><indexterm significance="normal">
      <primary>sales orders</primary>
      <secondary>adding line items to</secondary>
    </indexterm>To create or modify invoice line items, select the
  <guimenuitem>Line Items</guimenuitem> tab at the top of the Invoice screen.
  The following screen will appear:</para>
  <para><screenshot>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/invoice_lineItems.png"/>
        </imageobject>
        <caption>Miscellaneous Invoice Line Items</caption>
      </mediaobject>
    </screenshot></para>
  <para>When creating or modifying invoice line items, you are presented with
  the following options:</para>
  <variablelist>
    <varlistentry>
      <term>Line Items</term>
      <listitem>
        <para>Display lists line items for this invoice. A valid customer
        number must be entered in the <guilabel>Customer #</guilabel> field
        before line items can be added to the order.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Misc. Charge Description</term>
      <listitem>
        <para>Enter a description to identify the miscellaneous charge.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Misc. Charge Sales Account</term>
      <listitem>
        <para>Enter a sales account to assign the miscellaneous charge
        to.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Allocated Credit</term>
      <listitem>
        <para>Displays the monetary value of any credit memos and/or credit
        card charges which have been specifically allocated to the invoice. To
        allocate credit memos to the invoice, select the <guibutton>Allocated
        C/M'</guibutton>s link.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Outstanding Credit</term>
      <listitem>
        <para>Displays the total monetary value of all unallocated credit
        memos for the customer.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Authorized CC Payments</term>
      <listitem>
        <para>Displays the monetary value of any credit card
        pre-authorizations for the order. Credit card charges may be
        pre-authorized using the options found under the
        <guimenuitem>Payment</guimenuitem> tab. When a credit card charge is
        pre-authorized, the authorization is stored and may later be posted as
        a completed charge using the receivables workbench.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Subtotal</term>
      <listitem>
        <para>Displays the subtotal for the invoice line items.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Misc. Charge Amount</term>
      <listitem>
        <para>Enter the amount of any miscellaneous charge. Examples of
        miscellaneous charges include palletization costs, co-op refund, etc.
        Before entering a miscellaneous charge amount, you must first assign
        the charge to a sales account and also enter a description of the
        charge.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term><indexterm significance="normal">
          <primary>freight</primary>
          <secondary>on invoices</secondary>
        </indexterm><indexterm significance="normal">
          <primary>invoices</primary>
          <secondary>freight charges on</secondary>
        </indexterm>Freight</term>
      <listitem>
        <para>Enter the amount of freight charge to be added to the
        invoice.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Tax</term>
      <listitem>
        <para>Tax is not calculated automatically when creating a
        miscellaneous invoice—as it is when an invoice is generated from a
        sales order. You must manually enter a tax amount if you want to add
        tax to a miscellaneous invoice. To get a detailed view of the tax
        calculation, click on the tax link using your mouse.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Total</term>
      <listitem>
        <para>Displays total amount of the invoice.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Outstanding Balance</term>
      <listitem>
        <para>Displays the open balance of the invoice, which is equal to the
        total minus any allocated credit memos.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <xi:include href="../widgets/allocateARCreditMemo.xml"
              xpointer="allocateARCMs"
              xmlns:xi="http://www.w3.org/2001/XInclude"/>
  <para>Invoice characteristics are user-defined definitions which may be used
  to provide additional layers of description about invoices. These
  descriptions are static and not processed by the system, but are useful for
  informational purposes. To enter characteristics associated with an invoice,
  select the <guimenuitem>Characteristics</guimenuitem> tab. The following
  screen will appear:</para>
  <mediaobject>
    <imageobject>
      <imagedata fileref="images/invoice_characteristics.png"/>
    </imageobject>
    <caption><para>Invoice Characteristics</para></caption>
  </mediaobject>
  <xi:include href="../widgets/characteristic.xml"
              xpointer="characteristiclWidget"
              xmlns:xi="http://www.w3.org/2001/XInclude"/>
  <para>To add notes to an invoice, select the
  <guimenuitem>Notes</guimenuitem> tab at the top of the Invoice screen. If
  the invoice was created from a sales order, any sales order notes will be
  transferred to the invoice. The following screen will appear:</para>
  <para><screenshot>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/invoice_notes.png"/>
        </imageobject>
        <caption>Invoice Notes</caption>
      </mediaobject>
    </screenshot></para>
  <para>When adding notes to an invoice, you are presented with the following
  options:</para>
  <variablelist>
    <varlistentry>
      <term>Notes</term>
      <listitem>
        <para>This is a scrolling text field with word-wrapping for entering
        notes related to the invoice. Notes entered on this screen will follow
        the invoice through the billing process. For example, you may view
        notes associated with a posted invoice within the invoice information
        report.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <para>To associate documents with an invoice, select the
  <guimenuitem>Documents</guimenuitem> tab. The following will be
  displayed:</para>
  <para><screenshot>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/invoice_documentsTab.png"/>
        </imageobject>
        <caption>Invoice Documents</caption>
      </mediaobject>
    </screenshot></para>
  <xi:include href="../widgets/documents.xml" xpointer="documentsWidget"
              xmlns:xi="http://www.w3.org/2001/XInclude"/>
  <para>To create recurring invoices, select the
  <guimenuitem>Advanced</guimenuitem> tab. The following screen will
  appear:</para>
  <screenshot>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/invoice_advanced.png"/>
      </imageobject>
      <caption>Recurring Invoices</caption>
    </mediaobject>
  </screenshot>
  <xi:include href="../widgets/recurrencewidget.xml"
              xpointer="recurrenceWidget"
              xmlns:xi="http://www.w3.org/2001/XInclude"/>
  <para>To view email associated with the invoice, select the
  <guimenuitem>Email</guimenuitem> tab. The following screen will
  appear:</para>
  <xi:include href="../widgets/emailWidget.xml" xpointer="emailWidget"
              xmlns:xi="http://www.w3.org/2001/XInclude"/>
  <xi:include href="invoiceItem.xml" xpointer="element(/1)"
              xmlns:xi="http://www.w3.org/2001/XInclude"/>
</section>
