<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
"http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<section>
  <title><indexterm significance="normal">
      <primary>configuration</primary>
      <secondary>for credit cards</secondary>
    </indexterm> <indexterm significance="normal">
      <primary>credit cards</primary>
      <secondary>configuration for</secondary>
    </indexterm>Credit Cards</title>
  <para>To configure your system to process Credit Cards, select the "Credit
  Cards" option. The following screen will appear:</para>
  <para><screenshot>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/configureCC.png" />
        </imageobject>
        <caption>Configure Credit Card General Options</caption>
      </mediaobject>
    </screenshot></para>
  <note>
    <para>The system currently supports only the YourPay and Authorize.Net
    verification services.</para>
  </note>
  <para>When establishing the general settings for your Credit Card
  configuration, you are presented with the following options:</para>
  <variablelist>
    <varlistentry>
      <term>Accept Credit Cards</term>
      <listitem>
        <para>Select to indicate the system is configured to accept Credit
        Card Payments. If selected, the Credit Card processing functionality
        will be enabled throughout the system. For example, users will be able
        to store Customer Credit Card information on the Customer master--and
        receive Credit Card payments when processing Sales Orders. If this
        option is not selected, Credit Card functionality will be
        disabled.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Work in Test Mode</term>
      <listitem>
        <para>Select if your site is testing the Credit Card configuration and
        functionality. If selected, the system will verify that the server
        specified under the "Server" tab is in fact the correct test server.
        If this option is not selected, the system will verify that the
        correct production server is specified.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term><indexterm significance="normal">
          <primary>credit cards</primary>
          <secondary>selecting verification service</secondary>
        </indexterm>Verification Service</term>
      <listitem>
        <para>Specify the Credit Card payment gateway you will be
        using:</para>
        <variablelist>
          <varlistentry>
            <term>Authorize.Net</term>
            <listitem>
              <para>Select if you will be using the Authorize.Net payment
              gateway for handling Credit Card transactions. Specific
              Authorize.Net options will be enabled if you select this
              service. </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>YourPay</term>
            <listitem>
              <para>Select if you will be using the YourPay payment gateway
              for handling Credit Card transactions. Specific YourPay options
              will be enabled if you select this service. </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Confirm Transaction</term>
      <listitem>
        <para>Specify when you want to receive transaction confirmation
        messages:</para>
        <variablelist>
          <varlistentry>
            <term>Pre-Authorization</term>
            <listitem>
              <para>Select if you want to receive transaction confirmations
              when pre-authorizing charges on a Credit Card.</para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Direct Charge</term>
            <listitem>
              <para>Select if you want to receive transaction confirmations
              when directly charging a Credit Card.</para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Charge Pre-Authorization</term>
            <listitem>
              <para>Select if you want to receive transaction confirmations
              when posting pre-authorizied charges.</para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Credit</term>
            <listitem>
              <para>Select if you want to receive transaction confirmations
              when crediting back charges on a Credit Card.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Enable Transaction on Sales Order</term>
      <listitem>
        <para>Select which of the following options should be enabled under
        the Payments tab of the Sales Order header.</para>
        <variablelist>
          <varlistentry>
            <term>Pre-Authorization</term>
            <listitem>
              <para>If selected, only the AUTHORIZE button will be
              enabled.</para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Direct Charge</term>
            <listitem>
              <para>If selected, only the CHARGE button will be
              enabled.</para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Charge Pre-Authorization</term>
            <listitem>
              <para><remark>findme</remark></para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Credit</term>
            <listitem>
              <para><remark>findme</remark></para>
            </listitem>
          </varlistentry>
        </variablelist>
      </listitem>
    </varlistentry>
  </variablelist>
  <tip>
    <para><remark>findme</remark>Making changes to the "Enable Transaction on
    Sales Order" setting will only impact the buttons displayed under the
    "Payments" tab on the Sales Order header. Any pending post-authorizations
    available to the A/R Workbench will not be affected.</para>
  </tip>
  <variablelist>
    <varlistentry>
      <term><indexterm significance="normal">
          <primary>pre-authorizations</primary>
          <secondary>for credit card transactions</secondary>
        </indexterm> <indexterm significance="normal">
          <primary>credit cards</primary>
          <secondary>pre-auth limits</secondary>
        </indexterm>Number of days Pre-authorizations are valid for</term>
      <listitem>
        <para>Select a value between 1 and 99 using the arrow buttons located
        to the right of the field. Value entered specifies the number of days
        pre-authorizations will remain valid from the date they were entered.
        Once a pre-authorization expires, it will no longer be visible in the
        system and will be unavailable for post-authorization.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term><indexterm significance="normal">
          <primary>bank accounts</primary>
          <secondary>for credit card transactions</secondary>
        </indexterm> <indexterm significance="normal">
          <primary>credit cards</primary>
          <secondary>bank accounts and</secondary>
        </indexterm>Default Bank Account</term>
      <listitem>
        <para>Specify the default Bank Account to be used for receiving Cash
        whenever a Customer Credit Card is charged.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <para>To the far right of the screen, the following buttons are
  available:</para>
  <variablelist>
    <varlistentry>
      <term>CANCEL</term>
      <listitem>
        <para>Cancels any configuration settings, returning you to the
        application desktop.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>SAVE</term>
      <listitem>
        <para>Saves the configuration settings, returning you to the
        application desktop.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <para>Fraud detection methods vary depending on the payment gateway used.
  Some services require fraud settings to be configured on the gateway server.
  Other services, like YourPay, require the client software to pass the fraud
  settings to the gateway. To configure client-side fraud detections settings,
  if required, select the "Fraud Detection" tab. The following screen will
  appear:</para>
  <para><screenshot>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/configureCC_fraudPage.png" />
        </imageobject>
        <caption>Configure Credit Card Fraud Detection</caption>
      </mediaobject>
    </screenshot><tip>
      <para>The YourPay payment gateway requires fraud detection settings to
      be configured at the client level. So if YourPay is the service being
      used, the options on the "Fraud Detection" tab will be enabled--and
      selections should be made. On the other hand, these options will be
      disabled if the Authorize.Net gateway is being used. Fraud detection
      settings for Authorize.Net must be configured on the Merchant
      Interface.</para>
    </tip>When configuring client-side fraud detection settings, if required,
  you are presented with the following options:</para>
  <variablelist>
    <varlistentry>
      <term>Require Card Verification Value/Code (CVV)</term>
      <listitem>
        <para>Select if you want to require users to enter a CVV code when
        processing Credit Cards.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Card Verification</term>
      <listitem>
        <para><remark>findme</remark></para>
        <variablelist>
          <varlistentry>
            <term>Do not check</term>
            <listitem>
              <para></para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Warn if failure</term>
            <listitem>
              <para></para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Reject if failure</term>
            <listitem>
              <para></para>
            </listitem>
          </varlistentry>
        </variablelist>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Fail CVV Check If:</term>
      <listitem>
        <para><remark>findme</remark></para>
        <variablelist>
          <varlistentry>
            <term>Code Does Not Match</term>
            <listitem>
              <para></para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>CVV Was Not Processed</term>
            <listitem>
              <para></para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Card Had No Code</term>
            <listitem>
              <para></para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Card Issuer Is Not Certified</term>
            <listitem>
              <para></para>
            </listitem>
          </varlistentry>
        </variablelist>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Address Verification Service</term>
      <listitem>
        <para><remark>findme</remark></para>
        <variablelist>
          <varlistentry>
            <term>Do not check</term>
            <listitem>
              <para></para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Warn on Failed AVS Check</term>
            <listitem>
              <para></para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Reject on Failed AVS Check</term>
            <listitem>
              <para></para>
            </listitem>
          </varlistentry>
        </variablelist>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Fail AVS check if:</term>
      <listitem>
        <para><remark>findme</remark></para>
        <variablelist>
          <varlistentry>
            <term>Address Does Not Match</term>
            <listitem>
              <para></para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Address Comparison Not Available</term>
            <listitem>
              <para></para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>ZIP Does Not Match</term>
            <listitem>
              <para></para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>ZIP Comparison Not Available</term>
            <listitem>
              <para></para>
            </listitem>
          </varlistentry>
        </variablelist>
      </listitem>
    </varlistentry>
  </variablelist>
  <para>To establish the server settings for your Credit Card configuration,
  <indexterm significance="normal">
      <primary>servers</primary>
      <secondary>for credit card companies</secondary>
    </indexterm>select the "Server" tab. The following screen will
  appear:</para>
  <para><screenshot>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/configureCC_serverPage.png" />
        </imageobject>
        <caption>Configure Credit Card Server Options</caption>
      </mediaobject>
    </screenshot></para>
  <para>When establishing the server settings for your Credit Card
  configuration, you are presented with the following options:</para>
  <variablelist>
    <varlistentry>
      <term><indexterm significance="normal">
          <primary>servers</primary>
          <secondary>for credit card service</secondary>
        </indexterm>Server Name</term>
      <listitem>
        <para>Enter the IP Address for the specified Verification Service's
        server. The IP Address specified will vary, depending on whether you
        are working in test mode or production mode.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Port</term>
      <listitem>
        <para>Enter the port number for the specified Verification Service's
        server.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Login</term>
      <listitem>
        <para>YourPay does not require login information to be entered in this
        field. However, this information may be required by other Verification
        Services.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Password</term>
      <listitem>
        <para>YourPay does not require login information to be entered in this
        field. However, this information may be required by other Verification
        Services.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Use Proxy Server</term>
      <listitem>
        <para>Select if your site uses a proxy server.</para>
        <variablelist>
          <varlistentry>
            <term>Server Name</term>
            <listitem>
              <para>Specify the IP Address for your proxy server.</para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Port</term>
            <listitem>
              <para>Specify the port used by your proxy server.</para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Login</term>
            <listitem>
              <para>Specify the login name for your proxy server.</para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Password</term>
            <listitem>
              <para>Specify the password for your proxy server.</para>
              <note>
                <para>For Authorize.Net customers, a transaction key will be
                requested instead of a password.</para>
              </note>
            </listitem>
          </varlistentry>
        </variablelist>
      </listitem>
    </varlistentry>
  </variablelist>
  <para>To establish the service option settings for your Credit Card
  configuration, select the "Service Options" tab. The options will vary
  depending on the payment gateway being used. If YourPay is being used, the
  following screen will appear:</para>
  <para><screenshot>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/configureCC_optionsPage_yourPayStack.png" />
        </imageobject>
        <caption>YourPay Service Options</caption>
      </mediaobject>
    </screenshot></para>
  <para>When establishing the service option settings for your YourPay
  configuration, you are presented with the following options:</para>
  <variablelist>
    <varlistentry>
      <term>Link Shield</term>
      <listitem>
        <para><remark>findme</remark></para>
        <variablelist>
          <varlistentry>
            <term>Reject if Score Exceeds</term>
            <listitem>
              <para></para>
            </listitem>
          </varlistentry>
        </variablelist>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Store Number</term>
      <listitem>
        <para>Enter the number of your YourPay store. Store numbers are
        assigned when you register with the YourPay Verification
        Service.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Digital Certificate (PEM File) Location:</term>
      <listitem>
        <para>Specify the physical location of the digital certificate (i.e.,
        PEM file) according to your operating system:</para>
        <variablelist>
          <varlistentry>
            <term>Windows</term>
            <listitem>
              <para>Specify the directory path any Windows machine on your
              system would use to access the YourPay PEM file. The PEM file
              may be stored locally for use by individual machines, or on a
              network drive for wider distribution.</para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Linux</term>
            <listitem>
              <para>Specify the directory path any Linux machine on your
              system would use to access the YourPay PEM file. The PEM file
              may be stored locally for use by individual machines, or on a
              network drive for wider distribution.</para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Mac</term>
            <listitem>
              <para>Specify the directory path any Mac machine on your system
              would use to access the YourPay PEM file. The PEM file may be
              stored locally for use by individual machines, or on a network
              drive for wider distribution.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>In Test Mode, transactions should</term>
      <listitem>
        <para><remark>findme</remark></para>
        <variablelist>
          <varlistentry>
            <term>Always Fail (Be Declined or Marked as Duplicates)</term>
            <listitem>
              <para></para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Sometimes Fail</term>
            <listitem>
              <para></para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Always Succeed If Possible</term>
            <listitem>
              <para></para>
            </listitem>
          </varlistentry>
        </variablelist>
      </listitem>
    </varlistentry>
  </variablelist>
  <para>If Authorize.Net is being used, the following screen will
  appear:</para>
  <para><screenshot>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/configureCC_optionsPage_authorizeDotNetStack.png" />
        </imageobject>
        <caption>Authorize.Net Service Options</caption>
      </mediaobject>
    </screenshot>When establishing the service option settings for your
  Authorize.net configuration, you are presented with the following
  options:</para>
  <variablelist>
    <varlistentry>
      <term>Transaction Version</term>
      <listitem>
        <para><remark>findme</remark></para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Delimiting Character</term>
      <listitem>
        <para><remark>findme</remark></para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Encapsulating Character</term>
      <listitem>
        <para><remark>findme</remark></para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Duplicate Window</term>
      <listitem>
        <para><remark>findme</remark></para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>MD5 Hash</term>
      <listitem>
        <para><remark>findme</remark></para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Set on Gateway</term>
      <listitem>
        <para><remark>findme</remark></para>
        <variablelist>
          <varlistentry>
            <term>Warn if MD5 check fails</term>
            <listitem>
              <para></para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Fail if MD5 check fails</term>
            <listitem>
              <para></para>
            </listitem>
          </varlistentry>
        </variablelist>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Currency of Transactions</term>
      <listitem>
        <para>Specify how you want to handle foreign Currency
        transactions:</para>
        <variablelist>
          <varlistentry>
            <term>Same as Order</term>
            <listitem>
              <para><remark>findme</remark></para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Always Use</term>
            <listitem>
              <para>Select to always use the Currency specified here for all
              Credit Card transactions.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Additional Options</term>
      <listitem>
        <para><remark>findme</remark></para>
        <variablelist>
          <varlistentry>
            <term>Using Wells Fargo SecureSource</term>
            <listitem>
              <para></para>
            </listitem>
          </varlistentry>
        </variablelist>
      </listitem>
    </varlistentry>
  </variablelist>
  <para><indexterm>
      <primary>credit cards</primary>
      <secondary>key files and</secondary>
    </indexterm>To establish the key file settings for your Credit Card
  configuration, select the "Key File" tab. The following screen will
  appear:</para>
  <para><screenshot>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/configureCC_keyPage.png" />
        </imageobject>
        <caption>Configure Credit Card Key File Options</caption>
      </mediaobject>
    </screenshot></para>
  <tip>
    <para>All users on your system who need access to Credit Card information
    must use the same key file. The key file can be a simple text file with
    any contents whatsoever. It should be stored at the same level as the
    xTuple executable file. For Mac users, this would be within the MacOS
    directory inside the Package Contents for your xTuple executable. The key
    file is not stored on the database.</para>
  </tip>
  <para>When establishing the key file settings for your Credit Card
  configuration, you are presented with the following options:</para>
  <variablelist>
    <varlistentry>
      <term>Key File Name</term>
      <listitem>
        <para>Enter the name of your key file. The key file is an encryption
        seed file, which enables you to read encrypted Credit Card
        information. The key file is required regardless of the Verification
        Service used at your site. The contents of the key file should be at
        least 16 characters long and use a combination of upper and lower case
        letters and numbers. Special characters should not be used.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <note>
    <para>If you change the contents of your key file after it has already
    been in production, steps must be taken to convert any data encrypted up
    to that point. The function "alterencrypt" must be used to handle the
    conversion. Please contact your Systems Administrator for more
    information.</para>
  </note>
  <variablelist>
    <varlistentry>
      <term>Windows Location</term>
      <listitem>
        <para>Specify the directory path any Windows machine on your system
        would use to access the key file. All users and machines on the system
        must use the same key file. To ensure consistency and security, the
        file should be stored in a central location.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <tip>
    <para>If you name the key file "OpenMFG.key" and place it in the
    installation directory, then you do not need to enter the path.</para>
  </tip>
  <variablelist>
    <varlistentry>
      <term>Linux Location</term>
      <listitem>
        <para>Specify the directory path any Linux machine on your system
        would use to access the key file. All users and machines on the system
        must use the same key file. To ensure consistency and security, the
        file should be stored in a central location.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>Mac Location</term>
      <listitem>
        <para>Specify the directory path any Mac machine on your system would
        use to access the key file. All users and machines on the system must
        use the same key file. To ensure consistency and security, the file
        should be stored in a central location.</para>
      </listitem>
    </varlistentry>
  </variablelist>
</section>