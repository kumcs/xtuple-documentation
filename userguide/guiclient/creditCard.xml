<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE section
  PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<section id="Section970413">
    <title>
      <anchor id="Anchor970412" role="Index"
              xreflabel="configuration:for credit cards;credit cards:configuration for"/>
      <indexterm significance="normal">
        <primary>configuration</primary>

        <secondary>for credit cards</secondary>
      </indexterm> 
      <indexterm significance="normal">
        <primary>credit cards</primary>

        <secondary>configuration for</secondary>
      </indexterm>Credit Cards</title>

    <para id="Para970414">To configure your system to process Credit Cards,
    select the "Credit Cards" option. The following screen will appear:</para>

    <para id="Para970418">
      <screenshot>
        <mediaobject>
            <imageobject>
               <imagedata fileref="images/Sys_configCCGen.png" id="Graphic970416"/>
            </imageobject>

            <caption id="Caption970419">Configure Credit Card General
          Options</caption>
        </mediaobject>
      </screenshot>
   </para>

    <note>
      <para id="Para970421">The system currently supports only the YourPay
      Verification Service.</para>
    </note>

    <para id="Para970422">When establishing the general settings for your
    Credit Card configuration, you are presented with the following
    options:</para>

    <variablelist>
      <varlistentry>
        <term id="Para970423">Accept Credit Cards</term>

        <listitem id="listitemN0x180ac00N0x1861a68">
            <para>Select to indicate the system is configured to accept Credit
          Card Payments.</para>

            <para id="Para970424">If selected, the Credit Card processing
          functionality will be enabled throughout the system. For example,
          users will be able to store Customer Credit Card information on the
          Customer master--and receive Credit Card payments when processing
          Sales Orders. If this option is not selected, Credit Card
          functionality will be disabled.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term id="Para970425">Work in Test Mode</term>

        <listitem id="listitemN0x180ac00N0x1861ab0">
            <para>Select if your site is testing the Credit Card configuration
          and functionality.</para>

            <para id="Para970426">If selected, the system will verify that the
          server specified under the "Server" tab is in fact the correct test
          server. If this option is not selected, the system will verify that
          the correct production server is specified.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term id="Para970428">
            <anchor id="Anchor970427" role="Index"
                    xreflabel="credit cards:selecting verification service"/> 
            <indexterm significance="normal">
               <primary>credit cards</primary>

               <secondary>selecting verification service</secondary>
            </indexterm>Verification Service</term>

        <listitem id="listitemN0x180ac00N0x1861b40">
            <para>Specify the Verification Service you will be using.</para>

            <para id="Para970429">The xTuple applications currently support the
          YourPay Verification Service.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term id="Para970430">Confirm Transaction</term>

        <listitem id="listitemN0x180ac00N0x1861b88">
            <para>Specify when you want to receive transaction confirmation
          messages:</para>

            <para id="Para970431">None: Select if you do not want to receive
          transaction confirmation messages.</para>

            <para id="Para970432">Both: Select if you want to receive
          transaction confirmation messages for both pre-authorizations and
          charges.</para>

            <para id="Para970433">Authorize: Select if you want to receive
          transaction confirmations only when pre-authorizing.</para>

            <para id="Para970434">Charge: Select if you want to receive
          transaction confirmations only when charging.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term id="Para970435">Enable Trans.</term>

        <listitem id="listitemN0x180ac00N0x1861bd0">
            <para>Select which of the following options should be enabled under
          the Payments tab of the Sales Order header.</para>

            <para id="Para970436">Authorize: If selected, only the AUTHORIZE
          button will be enabled.</para>

            <para id="Para970437">Charge: If selected, only the CHARGE button
          will be enabled.</para>

            <para id="Para970438">Both: If selected, both the AUTHORIZE and
          CHARGE buttons will be enabled.</para>
        </listitem>
      </varlistentry>
    </variablelist>

    <tip>
      <para id="Para970440">Making changes to the "Enable Trans." setting will
      only impact the buttons displayed under the "Payments" tab on the Sales
      Order header. Any pending post-authorizations available to the A/R
      Workbench will not be affected.</para>
    </tip>

    <variablelist>
      <varlistentry>
        <term id="Para970442">
            <anchor id="Anchor970441" role="Index"
                    xreflabel="pre-authorizations:for credit card transactions;credit cards:pre-auth limits"/>
            <indexterm significance="normal">
               <primary>pre-authorizations</primary>

               <secondary>for credit card transactions</secondary>
            </indexterm> 
            <indexterm significance="normal">
               <primary>credit cards</primary>

               <secondary>pre-auth limits</secondary>
            </indexterm>Number of days Pre-authorizations are valid for</term>

        <listitem id="listitemN0x180ac00N0x1861cf0">
            <para>Select a value between 1 and 99 using the arrow buttons
          located to the right of the field.</para>

            <para id="Para970443">Value entered specifies the number of days
          pre-authorizations will remain valid from the date they were
          entered. Once a pre-authorization expires, it will no longer be
          visible in the system and will be unavailable for
          post-authorization.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term id="Para970445">
            <anchor id="Anchor970444" role="Index"
                    xreflabel="bank accounts:for credit card transactions;credit cards:bank accounts and"/>
            <indexterm significance="normal">
               <primary>bank accounts</primary>

               <secondary>for credit card transactions</secondary>
            </indexterm> 
            <indexterm significance="normal">
               <primary>credit cards</primary>

               <secondary>bank accounts and</secondary>
            </indexterm>Default Bank Account</term>

        <listitem id="listitemN0x180ac00N0x1861dc8">
            <para>Specify the default Bank Account to be used for receiving Cash
          whenever a Customer Credit Card is charged.</para>
        </listitem>
      </varlistentry>
    </variablelist>

    <para id="Para970447">To the far right of the screen, the following
    buttons are available:</para>

    <variablelist>
      <varlistentry>
        <term id="Para970448">CANCEL</term>

        <listitem id="listitemN0x180ac00N0x1868824">
            <para>Cancels any configuration settings, returning you to the
          application desktop.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term id="Para970449">SAVE</term>

        <listitem id="listitemN0x180ac00N0x186886c">
            <para>Saves the configuration settings, returning you to the
          application desktop.</para>
        </listitem>
      </varlistentry>
    </variablelist>

    <para id="Para970451">To establish the server settings for your Credit
    Card configuration, <anchor id="Anchor970450" role="Index" xreflabel="servers:for credit card companies"/> 
      <indexterm significance="normal">
        <primary>servers</primary>

        <secondary>for credit card companies</secondary>
      </indexterm>select the "Server" tab. The following screen will
    appear:</para>

    <para id="Para970455">
      <screenshot>
        <mediaobject>
            <imageobject>
               <imagedata fileref="images/Sys_configCCServer.png" id="Graphic970453"/>
            </imageobject>

            <caption id="Caption970456">Configure Credit Card Server
          Options</caption>
        </mediaobject>
      </screenshot>
   </para>

    <para id="Para970457">When establishing the server settings for your
    Credit Card configuration, you are presented with the following
    options:</para>

    <variablelist>
      <varlistentry>
        <term id="Para970459">
            <anchor id="Anchor970458" role="Index" xreflabel="servers:for credit card service"/> 
            <indexterm significance="normal">
               <primary>servers</primary>

               <secondary>for credit card service</secondary>
            </indexterm>Server Name</term>

        <listitem id="listitemN0x180ac00N0x18689d4">
            <para>Enter the IP Address for the specified Verification Service's
          server. The IP Address specified will vary, depending on whether you
          are working in test mode or production mode.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term id="Para970460">Port</term>

        <listitem id="listitemN0x180ac00N0x1868a1c">
            <para>Enter the port number for the specified Verification Service's
          server.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term id="Para970461">Login</term>

        <listitem id="listitemN0x180ac00N0x1868a64">
            <para>YourPay does not require login information to be entered in
          this field. However, this information may be required by other
          Verification Services.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term id="Para970462">Password</term>

        <listitem id="listitemN0x180ac00N0x1868aac">
            <para>YourPay does not require login information to be entered in
          this field. However, this information may be required by other
          Verification Services.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term id="Para970463">Use Proxy Server</term>

        <listitem id="listitemN0x180ac00N0x1868af4">
            <para>Select if your site uses a proxy server.</para>

            <para id="Para970464">Server Name: Specify the IP Address for your
          proxy server.</para>

            <para id="Para970465">Port: Specify the port used by your proxy
          server.</para>

            <para id="Para970466">Login: Specify the login name for your proxy
          server.</para>

            <para id="Para970467">Password: Specify the password for your proxy
          server.</para>
        </listitem>
      </varlistentry>
    </variablelist>

    <para id="Para970468">To establish the service option settings for your
    Credit Card configuration, select the "Service Options" tab. The following
    screen will appear:</para>

    <para id="Para970472">
      <screenshot>
        <mediaobject>
            <imageobject>
               <imagedata fileref="images/Sys_configCCService.png" id="Graphic970470"/>
            </imageobject>

            <caption id="Caption970473">Configure Credit Card Service
          Options</caption>
        </mediaobject>
      </screenshot>
   </para>

    <para id="Para970474">When establishing the service option settings for
    your Credit Card configuration, you are presented with the following
    options:</para>

    <note>
      <para id="Para970476">The examples shown in this section correspond to
      the YourPay Verification Service requirements. Different options would
      be shown if a different Verification Service were specified.</para>
    </note>

    <variablelist>
      <varlistentry>
        <term id="Para970477">Windows PEM Location</term>

        <listitem id="listitemN0x180ac00N0x1868bf0">
            <para>Specify the directory path any Windows machine on your system
          would use to access the YourPay PEM file.</para>

            <para id="Para970478">The PEM file may be stored locally for use by
          individual machines, or on a network drive for wider
          distribution.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term id="Para970479">Linux PEM Location</term>

        <listitem id="listitemN0x180ac00N0x1868c38">
            <para>Specify the directory path any Linux machine on your system
          would use to access the YourPay PEM file.</para>

            <para id="Para970480">The PEM file may be stored locally for use by
          individual machines, or on a network drive for wider
          distribution.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term id="Para970481">Mac PEM Location</term>

        <listitem id="listitemN0x180ac00N0x1868c80">
            <para>Specify the directory path any Mac machine on your system
          would use to access the YourPay PEM file.</para>

            <para id="Para970482">The PEM file may be stored locally for use by
          individual machines, or on a network drive for wider
          distribution.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term id="Para970483">Store Number</term>

        <listitem id="listitemN0x180ac00N0x1868cc8">
            <para>Enter the number of your YourPay store.</para>

            <para id="Para970484">Store numbers are assigned when you register
          with the YourPay Verification Service.</para>
        </listitem>
      </varlistentry>
    </variablelist>

    <para id="Para970486">
      <anchor id="Anchor970485" role="Index" xreflabel="credit cards:key files and"/> 
      <indexterm significance="normal">
        <primary>credit cards</primary>

        <secondary>key files and</secondary>
      </indexterm>To establish the key file settings for your Credit Card
    configuration, select the "Key File" tab. The following screen will
    appear:</para>

    <para id="Para970490">
      <screenshot>
        <mediaobject>
            <imageobject>
               <imagedata fileref="images/Sys_configCCKey.png" id="Graphic970488"/>
            </imageobject>

            <caption id="Caption970491">Configure Credit Card Key File
          Options</caption>
        </mediaobject>
      </screenshot>
   </para>

    <tip>
      <para id="Para970493">All users on your system must use the same key
      file. For optimal security, you should consider storing the key file
      with a hidden name in a hidden directory on your server. The key file is
      not stored on the database.</para>
    </tip>

    <para id="Para970494">When establishing the key file settings for your
    Credit Card configuration, you are presented with the following
    options:</para>

    <variablelist>
      <varlistentry>
        <term id="Para970495">Key File Name</term>

        <listitem id="listitemN0x180ac00N0x1868e0c">
            <para>Enter the name of your key file. The key file is an encryption
          seed file, which enables you to read encrypted Credit Card
          information. The key file is required regardless of the Verification
          Service used at your site. The contents of the key file should be at
          least 16 characters long and use a combination of upper and lower
          case letters and numbers. Special characters should not be
          used.</para>
        </listitem>
      </varlistentry>
    </variablelist>

    <note>
      <para id="Para970497">If you change the contents of your key file after
      it has already been in production, steps must be taken to convert any
      data encrypted up to that point. The function "alterencrypt" must be
      used to handle the conversion. Please contact your Systems Administrator
      for more information.</para>
    </note>

    <variablelist>
      <varlistentry>
        <term id="Para970498">Windows Location</term>

        <listitem id="listitemN0x180ac00N0x1868e9c">
            <para>Specify the directory path any Windows machine on your system
          would use to access the key file.</para>

            <para id="Para970499">All users and machines on the system must use
          the same key file. To ensure consistency and security, the file
          should be stored in a central location.</para>
        </listitem>
      </varlistentry>
    </variablelist>

    <tip>
      <para id="Para977572">If you name the key file "OpenMFG.key" and place
      it in the installation directory, then you do not need to enter the
      path.</para>
    </tip>

    <variablelist>
      <varlistentry>
        <term id="Para970500">Linux Location</term>

        <listitem id="listitemN0x180ac00N0x1868f2c">
            <para>Specify the directory path any Linux machine on your system
          would use to access the key file.</para>

            <para id="Para970501">All users and machines on the system must use
          the same key file. To ensure consistency and security, the file
          should be stored in a central location.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term id="Para970502">Mac Location</term>

        <listitem id="listitemN0x180ac00N0x1868f74">
            <para>Specify the directory path any Mac machine on your system
          would use to access the key file.</para>

            <para id="Para972121">All users and machines on the system must use
          the same key file. To ensure consistency and security, the file
          should be stored in a central location.</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </section>